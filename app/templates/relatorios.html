{% extends "base.html" %}

{% block title %}Central de Relatórios - GestãoPRO{% endblock %}

{% block content %}
<header class="main-header">
    <h1>Central de Relatórios e Impressões</h1>
    <p class="subtitle">Selecione um relatório, configure as opções e gere um PDF para visualização ou impressão.</p>
</header>

<div class="card full-width">
    <h2>Relatórios Disponíveis</h2>

    <div class="report-selection-grid">
        {# O loop 'relatorios' é fornecido pelo contexto FastAPI #}
        {% if relatorios %} {# Adicionado if para segurança #}
            {% for key, config in relatorios.items() %}
                {# INCLUSÃO DO COMPONENTE DE ITEM DE RELATÓRIO (Já verificado) #}
                {# Passa o contexto atual para o include #}
                {% include '_relatorio_item.html' with context %}
            {% endfor %}
        {% else %}
            <p>Nenhum relatório configurado.</p>
        {% endif %}
    </div>
</div>

{% endblock %}

{% block scripts %}
{# Bloco de scripts agora apenas inclui o ficheiro externo #}
<script src="{{ request.app.url_path_for('static', path='js/relatorios.js') }}" defer></script>
{% endblock %}